{"version":3,"sources":["icons/partly_cloudy.svg","icons/partly_cloudy_windy.svg","icons/rain.svg","icons/sun_thunderstorm.svg","icons/cloudy_windy.svg","icons/sun.svg","icons/mostly_cloudy.svg","icons/cloudy.svg","icons/snow.svg","icons/sunny_rain.svg","icons/thunderstorm.svg","icons/blizzard.svg","icons/windy.svg","ForecastCard.tsx","util/index.tsx","TemperatureGraph.tsx","PrecipGraph.tsx","ForecastModal.tsx","Forecast.tsx","util/getCardinalDirection.tsx","CurrentConditions.tsx","WeatherLine.tsx","HourlyGraphs.tsx","icons.tsx","ForecastPage.tsx","Radar.tsx","Header.tsx","theme.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","useStyles","makeStyles","cardRoot","margin","width","height","display","cardRootMobile","padding","cardContentMobile","paddingBottom","ForecastCard","period","restProps","isMobile","useMediaQuery","classes","dayFormat","Card","root","CardContent","Typography","variant","style","fontFamily","moment","startTime","format","alignItems","justifyContent","src","icon","alt","textAlign","marginLeft","paddingTop","color","maxTemp","minTemp","fontWeight","windSpeed","windDirection","shortForecast","CtoF","d","Math","round","metersPerSecondToMph","m","metersToMiles","parseIcon","iconUrl","replace","split","slice","map","percent","parseInt","sort","a","b","distanceM","Δφ","PI","Δλ","Q","sin","cos","atan2","sqrt","bearing","y","x","TemperatureGraph","temperatures","day","hourlyTemp","validTime","valueOf","value","temperatureOptions","useMemo","chart","console","log","Highcharts","addEvent","container","event","i","charts","coord","pointer","normalize","series","forEach","s","point","searchPoint","select","length","type","time","useUTC","legend","enabled","title","text","undefined","xAxis","dateTimeLabelFormats","hour","labels","plotLines","zIndex","max","endOf","add","yAxis","endOnTick","tickInterval","min","tooltip","shared","formatter","this","credits","plotOptions","areaspline","fillOpacity","marker","name","data","highcharts","options","PrecipGraph","precip","hourlyPrecip","clouds","hourlyClouds","Transition","React","forwardRef","props","ref","Slide","direction","ForecastModal","open","setOpen","Dialog","TransitionComponent","keepMounted","onClose","DialogTitle","DialogContent","marginBottom","marginRight","temperature","detailedForecast","night","marginTop","DialogActions","Button","onClick","Forecast","useState","forecastModalOpen","setForecastModalOpen","activeForcast","setActiveForcast","overflowX","idx","key","Table","TableBody","TableRow","TableCell","getCardinalDirection","heading","CurrentConditions","stationInfo","stationName","properties","trim","feelsLike","transform","windGust","CurrentDetails","distanceMi","distance","size","timestamp","fromNow","elevation","className","relativeHumidity","dewpoint","visibility","barometricPressure","WeatherLine","axisBottom","axisLeft","top","right","bottom","left","xScale","precision","xFormat","yFormat","yScale","stacked","reverse","curve","axisTop","axisRight","tickValues","legendOffset","orient","tickSize","tickPadding","tickRotation","legendPosition","colors","scheme","lineWidth","enablePoints","enableArea","areaOpacity","useMesh","enableSlices","sliceTooltip","paddingLeft","paddingRight","backgroundColor","border","points","yFormatted","HourlyGraphs","times","minDay","startOf","range","diff","days","toDate","push","clone","userSelect","areaBaselineValue","skyCover","probabilityOfPrecipitation","Sun","PartlyCloudy","MostlyCloudy","Cloudy","Windy","PartlyCloudyWindy","CloudyWindy","Snow","Rain","SunnyRain","Thunderstorm","SunThunderstorm","Blizzard","ForecastPage","currentConditions","forecast","hourlyForecast","setData","lastRefresh","setLastRefresh","fetchData","LNG","LAT","fetchLocationInfo","grid","station","Promise","fetchStationInfo","id","fetchCurrentConditions","fetchForecast","fetchHourlyForecast","all","geometry","coordinates","endTime","values","filter","isBetween","hourlyFeelsLike","apparentTemperature","hourlyWind","hourlyWindGust","hourlyDewpoint","useEffect","document","addEventListener","duration","asMinutes","maxWidth","lng","lat","fetch","then","res","json","pointInfo","observationStations","features","forecastGridData","url","response","parsedIcons","icons","windChill","heatIndex","parsed","periods","temps","parsedIcon","balmyIcon","isDaytime","hourly","Radar","setMap","setTime","timeIntervals","subtract","label","getTimeIntervals","loopState","setLoopState","loop","setLoop","radarPromises","interval","getRadarUrl","pauseLoop","clearInterval","getSource","updateImage","forceTime","bounds","getBounds","toArray","southWest","northEast","params","dpi","transparent","bbox","join","bboxSR","imageSR","window","innerWidth","innerHeight","f","queryString","URLSearchParams","toString","innerMap","mapboxgl","Map","maxZoom","minZoom","zoom","center","hash","on","addSource","getNorthWest","getNorthEast","getSouthEast","getSouthWest","addLayer","setPaintProperty","radarSource","radarUrl","setTimeout","currentInterval","setInterval","position","borderRadius","IconButton","getRadarLoop","CircularProgress","Slider","marks","defaultValue","valueLabelDisplay","step","onChange","accessToken","Header","location","useLocation","AppBar","Toolbar","flexGrow","to","textDecoration","pathname","startIcon","theme","createMuiTheme","palette","primary","500","responsiveFontSizes","App","ThemeProvider","path","Boolean","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.9c5ea8c7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/partly_cloudy.4ae3e84d.svg\";","module.exports = __webpack_public_path__ + \"static/media/partly_cloudy_windy.bb410bac.svg\";","module.exports = __webpack_public_path__ + \"static/media/rain.633504b6.svg\";","module.exports = __webpack_public_path__ + \"static/media/sun_thunderstorm.092af83d.svg\";","module.exports = __webpack_public_path__ + \"static/media/cloudy_windy.475f49b1.svg\";","module.exports = __webpack_public_path__ + \"static/media/sun.c536ba25.svg\";","module.exports = __webpack_public_path__ + \"static/media/mostly_cloudy.9bed9624.svg\";","module.exports = __webpack_public_path__ + \"static/media/cloudy.e3f4d975.svg\";","module.exports = __webpack_public_path__ + \"static/media/snow.7f879cdd.svg\";","module.exports = __webpack_public_path__ + \"static/media/sunny_rain.bdf06b84.svg\";","module.exports = __webpack_public_path__ + \"static/media/thunderstorm.41430d17.svg\";","module.exports = __webpack_public_path__ + \"static/media/blizzard.4181412c.svg\";","module.exports = __webpack_public_path__ + \"static/media/windy.d1a8592d.svg\";","import React from 'react';\nimport Card, {CardProps} from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport {Typography} from '@material-ui/core';\nimport {BalmyForecast} from './types/ForecastPeriod';\nimport moment from 'moment';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport {makeStyles} from '@material-ui/styles';\n\nconst useStyles = makeStyles({\n    cardRoot: {\n        margin: '8px',\n        width: '230px',\n        height: '175px',\n        display: 'inline-block'\n    },\n    cardRootMobile: {\n        margin: '4px',\n        padding: '4px',\n        width: '110px',\n        height: '100px',\n        display: 'inline-block'\n    },\n    cardContentMobile: {\n        padding: '4px',\n        '&:last-child': {\n            paddingBottom: 0,\n        }\n    }\n})\nexport default function ForecastCard({period, ...restProps}: CardProps & {period: BalmyForecast}) {\n    const isMobile = useMediaQuery('(max-width: 500px)');\n    const classes = useStyles();\n\n    const dayFormat = isMobile ? 'ddd D' : 'dddd MMM D';\n\n    return <Card classes={{\n        root: isMobile ? classes.cardRootMobile : classes.cardRoot,\n    }} {...restProps}>\n        <CardContent classes={{root: isMobile ? classes.cardContentMobile : ''}}>\n            <Typography variant='subtitle1' style={{fontFamily: 'Spartan'}}>\n               {moment(period.startTime).format(dayFormat)}\n            </Typography>\n\n            <div style={{\n                display: isMobile ? 'block': 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n            }}>\n\n                <div style={{display: isMobile ? 'block' : 'inline-block'}}>\n                    <img src={period.icon} style={{height: isMobile ? '30px' : '45px'}} alt=''/>\n                </div>\n\n                <div style={{\n                    display: isMobile ? 'block' : 'inline-block',\n                    textAlign: 'center',\n                    marginLeft: isMobile ? 0 : '16px',\n                    paddingTop: isMobile ? '4px': '8px',\n                    paddingBottom: isMobile ? 0 : '8px'\n                }}>\n                    <Typography variant='h6'>\n                        <span style={{color: '#d5202a'}}>{period.maxTemp}</span>°{' | '}\n                        <span style={{color: '#0053ae'}}>{period.minTemp}</span>°<span style={{fontWeight: 400}}>F</span>\n                    </Typography>\n\n                    {!isMobile && <Typography variant='body2'>\n                        {period.windSpeed} {period.windDirection}\n                    </Typography>}\n                </div>\n            </div>\n\n            {!isMobile && <Typography variant='body2'>{period.shortForecast}</Typography>}\n        </CardContent>\n    </Card>\n}","\nexport function CtoF(d: number) {\n    return Math.round((d * 9/5) + 32);\n}\n\nexport function metersPerSecondToMph(m: number) {\n    return Math.round(m * 2.23694)\n}\n\nexport function metersToMiles(m: number) {\n    return Math.round(m * 0.0006213712);\n}\n\nexport function metersToFeet(m: number) {\n    return Math.round(m * 3.28084);\n}\n\nexport function parseIcon(iconUrl: string) {\n    return iconUrl\n        .replace('https://api.weather.gov/icons/', '')\n        .split('?')[0]\n        .split('/')\n        .slice(2)\n        .map(d => d.split(','))\n        .map(d => { return {icon: d[0], percent: parseInt(d[1]) }})\n        .sort((a, b) => b.percent - a.percent);\n}\n\n\nexport function distanceM (a: [number, number], b: [number, number]) {\n    const Δφ = (b[1] - a[1]) * Math.PI / 180;\n    const Δλ = (b[0] - a[0]) * Math.PI / 180;\n\n    const Q = Math.sin(Δφ/2) * Math.sin(Δφ/2) + Math.cos((a[1] * Math.PI / 180.0)) *\n        Math.cos((b[1] * Math.PI / 180.0)) * Math.sin(Δλ/2) * Math.sin(Δλ/2);\n\n    return 6371e3 * (2 * Math.atan2(Math.sqrt(Q), Math.sqrt(1-Q)));\n}\n\nexport function bearing(a: [number, number], b: [number, number]) {\n    const y = Math.sin(b[1]-a[1]) * Math.cos(b[0]);\n    const x = Math.cos(a[0]) * Math.sin(b[0]) -\n        Math.sin(a[0]) * Math.cos(b[0]) * Math.cos(b[1] - a[1]);\n\n    return ((Math.atan2(y, x)) * 180 / Math.PI + 360) % 360;\n}\n","import React, {useMemo} from 'react';\nimport moment from 'moment';\nimport Highcharts, {Options, Chart} from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official'\nimport {CtoF} from './util';\nimport {BalmyForecast} from './types/ForecastPeriod';\n\nexport default function TemperatureGraph({day}: {day: BalmyForecast}) {\n    const temperatures = day.hourlyTemp.map((d: any) =>\n        [moment(d.validTime.split('/')[0]).valueOf(), CtoF(d.value)]\n    );\n\n    const callback = useMemo(() => {\n        return (chart: Chart) => {\n            console.log('addEvent')\n            Highcharts.addEvent(chart.container, 'mouseover', (event: PointerEvent) => {\n                if (!event) return;\n                for (let i = 0; i < Highcharts.charts.length; i++) {\n                    const chart = Highcharts.charts[i];\n                    if (!chart) continue;\n                    // Find coordinates within the chart\n                    const coord = chart.pointer.normalize(event);\n                    // Get the hovered point\n                    chart.series.forEach((s: any) => {\n                        const point: Highcharts.Point = s.searchPoint(coord, true);\n                        if (point) {\n                            point.select(true, true);\n                        } else {\n                            s.select(false);\n                        }\n                    })\n\n                }\n            })\n        }\n    }, []);\n\n    const temperatureOptions: Options = {\n        chart: {\n            type: 'areaspline',\n            height: 125,\n            marginLeft: 45,\n        },\n        time: {\n            useUTC: false,\n        },\n        legend: {\n            enabled: false,\n        },\n        title: {\n            text: undefined,\n        },\n        xAxis: {\n            type: 'datetime',\n            dateTimeLabelFormats : {\n                hour: '%H',\n            },\n            labels: {\n                format: '{value:%H}'\n            },\n            plotLines: [{\n                color: '#aaaaaa',\n                value: moment().valueOf(),\n                width: 1,\n                zIndex: 2,\n            }],\n            max: moment(temperatures[0][0]).endOf('day').add(4, 'hours').valueOf(),\n        },\n        yAxis: {\n            title: {\n                text: undefined,\n            },\n            endOnTick: false,\n            tickInterval: 5,\n            min: Math.min(...temperatures.map((d: any) => d[1])) - 5,\n            max: Math.max(...temperatures.map((d: any) => d[1])) + 5,\n        },\n        tooltip: {\n            shared: true,\n            formatter: function() {\n                return `${this.y}°F @ ${moment(this.x).format('h A')}`\n            }\n        },\n        credits: {\n            enabled: false\n        },\n        plotOptions: {\n            areaspline: {\n                fillOpacity: 0.5,\n                marker: {\n                    enabled: false,\n                },\n            },\n        },\n        series: [{\n            name: 'Temperature',\n            type: 'areaspline',\n            data: temperatures      ,\n            color: '#ff8833',\n        }]\n    };\n\n    return <HighchartsReact\n        highcharts={Highcharts}\n        options={temperatureOptions}\n        // callback={callback}\n    />\n\n}","import React from 'react';\nimport moment from 'moment';\nimport Highcharts, {Options} from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official'\nimport {BalmyForecast} from './types/ForecastPeriod';\n\nexport default function PrecipGraph({day}: {day: BalmyForecast}) {\n    const precip = day.hourlyPrecip.map((d: any) =>\n        [moment(d.validTime.split('/')[0]).valueOf(), d.value]\n    );\n\n    const clouds = day.hourlyClouds.map((d: any) =>\n        [moment(d.validTime.split('/')[0]).valueOf(), d.value]\n    );\n\n    const options: Options = {\n        chart: {\n            type: 'areaspline',\n            height: 125,\n            marginLeft: 45,\n        },\n        time: {\n            useUTC: false,\n        },\n        legend: {\n            enabled: false,\n        },\n        title: {\n            text: undefined,\n        },\n        xAxis: {\n            type: 'datetime',\n            dateTimeLabelFormats : {\n                hour: '%H',\n            },\n            labels: {\n                format: '{value:%H}'\n            },\n            plotLines: [{\n                color: '#aaaaaa',\n                value: moment().valueOf(),\n                width: 1,\n                zIndex: 2,\n            }],\n            max: moment(clouds[0][0]).endOf('day').add(4, 'hours').valueOf(),\n        },\n        yAxis: {\n            title: {\n                text: undefined,\n            },\n            endOnTick: false,\n            tickInterval: 5,\n            min: 0,\n            max: 100,\n        },\n        tooltip: {\n            shared: true,\n            formatter: function() {\n                return `${this.y} @ ${moment(this.x).format('h A')}`\n            }\n        },\n        credits: {\n            enabled: false\n        },\n        plotOptions: {\n            areaspline: {\n                fillOpacity: 0.5,\n                marker: {\n                    enabled: false,\n                }\n            }\n        },\n        series: [{\n            name: 'Precip',\n            type: 'areaspline',\n            data: precip      ,\n            color: '#15aadc',\n        }, {\n            name: 'Clouds',\n            type: 'areaspline',\n            data: clouds      ,\n            color: '#a3a3a3',\n        }]\n    };\n\n    return <HighchartsReact\n        highcharts={Highcharts}\n        options={options}\n    />\n\n}","import React from 'react';\nimport {Typography} from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport {BalmyForecast} from './types/ForecastPeriod';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Slide from '@material-ui/core/Slide';\nimport { TransitionProps } from '@material-ui/core/transitions';\nimport moment from 'moment';\nimport TemperatureGraph from './TemperatureGraph';\nimport PrecipGraph from './PrecipGraph';\n\nconst Transition = React.forwardRef(function Transition(\n    props: TransitionProps & { children?: React.ReactElement<any, any> },\n    ref: React.Ref<unknown>,\n) {\n    return <Slide direction='up' ref={ref} {...props} />;\n});\n\ninterface ForecastModalProps {\n    day: BalmyForecast | undefined;\n    open: boolean;\n    setOpen: React.Dispatch<React.SetStateAction<boolean>>;\n}\nexport default function ForecastModal({day, open, setOpen}: ForecastModalProps) {\n    if (!day) return null;\n\n    return (\n    <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => setOpen(false)}\n    >\n        <DialogTitle>{moment(day.startTime).format('dddd MMM Do')}</DialogTitle>\n        <DialogContent>\n            <div style={{paddingBottom: '24px'}}>\n                <div style={{display: 'flex', alignItems: 'center', marginBottom: '16px'}}>\n                    <img src={day.icon} style={{height: '75px', marginRight: '16px'}} alt=''/>\n                    <Typography variant='h6'>\n                        <span style={{color: '#d5202a'}}>{day.temperature}</span>°F\n                    </Typography>\n                </div>\n                <Typography variant='body1'>\n                    {day.detailedForecast}\n                </Typography>\n            </div>\n\n            <TemperatureGraph day={day} />\n            <PrecipGraph day={day} />\n\n            {day.night && <div>\n                <Typography variant='h6'>Overnight</Typography>\n                <div style={{display: 'flex', alignItems: 'center', marginTop: '16px', marginBottom: '16px'}}>\n                    <img src={day.night.icon} style={{height: '75px', marginRight: '16px'}} alt=''/>\n                    <Typography variant='h6'>\n                        <span style={{color: '#d5202a'}}>{day.night.temperature}</span>°F\n                    </Typography>\n                </div>\n                <Typography variant='body1'>\n                    {day.night.detailedForecast}\n                </Typography>\n            </div>}\n\n        </DialogContent>\n        <DialogActions>\n            <Button onClick={() => setOpen(false)} color=\"primary\">\n                Close\n            </Button>\n        </DialogActions>\n    </Dialog>\n    );\n}","import React, {useState} from 'react';\nimport moment from 'moment';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport {Typography} from '@material-ui/core';\nimport {BalmyForecast} from './types/ForecastPeriod';\nimport ForecastCard from './ForecastCard';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport ForecastModal from './ForecastModal';\n\n\nexport default function Forecast({data}: {data: BalmyForecast[] | undefined}) {\n    const isMobile = useMediaQuery('(max-width: 500px)');\n    const [forecastModalOpen, setForecastModalOpen] = useState(false);\n    const [activeForcast, setActiveForcast] = useState<BalmyForecast | undefined>();\n\n    if (!data) return null;\n\n    return <>\n        <div style={{overflowX: 'scroll'}}>\n            <div style={{\n              width: isMobile ? '900px' : '1750px',\n              display: 'flex',\n              paddingTop: '16px',\n              paddingBottom: '16px'\n            }}>\n                {data.map((day, idx) => {\n                  return <ForecastCard\n                    key={idx}\n                    period={day}\n                    onClick={() => {\n                      setForecastModalOpen(true);\n                      setActiveForcast(day);\n                    }}/>\n                })}\n            </div>\n        </div>\n        {!isMobile && <Table>\n            <TableBody>\n            {data.map((day, i) => {\n            return <TableRow key={i}>\n                 <TableCell style={{padding: isMobile ? '10px' : '16px'}}>\n                      <Typography variant='body2'>{moment(day.startTime).format('ddd')} {moment(day.startTime).format('M/D')}</Typography>\n                  </TableCell>\n                  <TableCell style={{padding: isMobile ? '10px' : '16px'}}>\n                      <Typography variant='body2'>\n                          <span style={{color: '#d5202a'}}>{day.maxTemp}</span>°{' | '}\n                          <span style={{color: '#0053ae'}}>{day.minTemp}</span>°\n                          <span style={{fontWeight: 400}}>F</span>\n                      </Typography>\n                  </TableCell >\n                  <TableCell style={{padding: isMobile ? '10px' : '16px'}}>\n                      <Typography variant='body2'>{day.windSpeed} {day.windDirection}</Typography>\n                  </TableCell>\n                  {!isMobile && <TableCell style={{width: '50%', textAlign: 'left', padding: isMobile ? '10px' : '16px'}}>\n                      <Typography variant='body2'>{day.detailedForecast}</Typography>\n                  </TableCell>}\n              </TableRow>\n            })}\n            </TableBody>\n        </Table>}\n        <ForecastModal day={activeForcast} open={forecastModalOpen} setOpen={setForecastModalOpen} />\n    </>\n}","  export default function getCardinalDirection(heading: number) {\n    // Principle winds + half-winds defintions via https://en.wikipedia.org/wiki/Points_of_the_compass\n    // 22.49deg between each step\n    switch(true) {\n      case (heading >= 348.76 || heading <= 11.25):\n        return 'N'\n      case heading >= 11.26 && heading <= 33.75:\n        return 'NNE'\n      case heading >= 33.76 && heading <= 56.25:\n        return 'NE'\n      case heading >= 56.26 && heading <= 78.75:\n        return 'ENE'\n      case heading >= 78.76 && heading <= 101.25:\n        return 'E'\n      case heading >= 101.26 && heading <= 123.75:\n        return 'ESE'\n      case heading >= 123.76 && heading <= 146.25:\n        return 'SE'\n      case heading >= 146.26 && heading <= 168.75:\n        return 'SSE'\n      case heading >= 168.76 && heading <= 191.25:\n        return 'S'\n      case heading >= 191.26 && heading <= 213.75:\n        return 'SSW'\n      case heading >= 213.76 && heading <= 236.25:\n        return 'SW'\n      case heading >= 236.26 && heading <= 258.75:\n        return 'WSW'\n      case heading >= 258.76 && heading <= 281.25:\n        return 'W'\n      case heading >= 281.26 && heading <= 303.75:\n        return 'WNW'\n      case heading >= 303.76 && heading <= 326.25:\n        return 'NW'\n      case heading >= 326.26 && heading <= 348.75:\n        return 'NNW'\n      default:\n        return 'N/A'\n    }\n  }","import React from 'react';\nimport {Typography} from '@material-ui/core';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport NavigationIcon from '@material-ui/icons/Navigation';\nimport {CtoF, metersToMiles, metersToFeet, metersPerSecondToMph} from './util';\nimport getCardinalDirection from './util/getCardinalDirection';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport moment from 'moment';\n\nexport default function CurrentConditions(\n    {data, stationInfo}: {data: any | undefined, stationInfo: any | undefined}\n) {\n    const isMobile = useMediaQuery('(max-width: 500px)');\n\n    if (!data || !stationInfo) return null;\n\n    let stationName = stationInfo.properties.name.split(',');\n    if (stationName[1]) {\n        stationName = stationName[1].trim();\n    } else {\n        stationName = stationInfo.properties.name;\n    }\n\n    return <div>\n        <div style={{textAlign: 'left'}}>\n            <Typography variant='h5'>\n                {stationName}\n            </Typography>\n        </div>\n    <div style={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: isMobile ? 'space-evenly' : 'space-between',\n        padding: isMobile ? 0 : '40px',\n    }}>\n        <div>\n            <img\n                src={data.icon}\n                style={{width: isMobile ? '130px': '175px'}}\n                alt=''\n            />\n        </div>\n        <div>\n            <Typography variant={isMobile ? 'h2': 'h1'} style={{fontFamily: 'Spartan'}}>\n                {CtoF(data.temperature.value)}°F\n            </Typography>\n            {data.feelsLike && <Typography variant='h5'>\n                Feels like {CtoF(data.feelsLike)}°F\n            </Typography>}\n            {!isMobile && <div>\n                <Typography variant='h3' style={{display: 'inline-block'}}>\n                    <NavigationIcon style={{\n                        transform: `rotate(${data.windDirection.value - 180}deg)`,\n                        marginRight: '8px',\n                    }}/>\n                    {metersPerSecondToMph(data.windSpeed.value)}\n                    {data.windGust.value ?\n                    ' | ' + metersPerSecondToMph(data.windGust.value) : ''}\n                </Typography>\n                <Typography variant='h5' style={{display: 'inline-block', marginLeft: '8px'}}>mph</Typography>\n                <Typography variant='h5'  style={{display: 'inline-block', marginLeft: '8px'}}>\n                    {getCardinalDirection(data.windDirection.value)}\n                </Typography>\n            </div>}\n        </div>\n\n        {!isMobile && <CurrentDetails data={data} stationInfo={stationInfo} /> }\n    </div>\n        {isMobile && <CurrentDetails data={data} stationInfo={stationInfo} /> }\n    </div>;\n}\n\nfunction CurrentDetails({data, stationInfo}: {data: any, stationInfo: any}) {\n    if (!data) return null;\n\n    const distanceMi = metersToMiles(stationInfo.properties.distance);\n\n    return <div>\n        <Table size=\"small\" >\n            <TableBody>\n                <TableRow>\n                    <TableCell>\n                    <Typography variant='subtitle2'>Last updated</Typography>\n                    </TableCell>\n                    <TableCell>\n                    <Typography variant='body2'>{moment(data.timestamp).fromNow()}</Typography>\n                    </TableCell>\n                </TableRow>\n\n                <TableRow>\n                    <TableCell>\n                    <Typography variant='subtitle2'>Elevation</Typography>\n                    </TableCell>\n                    <TableCell>\n                    <Typography variant='body2'>\n                        {metersToFeet(stationInfo.properties.elevation.value)} ft\n                    </Typography>\n                    </TableCell>\n                </TableRow>\n\n                <TableRow>\n                    <TableCell>\n                    <Typography variant='subtitle2'>Distance</Typography>\n                    </TableCell>\n                    <TableCell>\n                    <Typography variant='body2'>\n                        {distanceMi} mi {getCardinalDirection(stationInfo.properties.bearing)}\n                    </Typography>\n                    </TableCell>\n                </TableRow>\n\n                <TableRow className='mobile-wind'>\n                    <TableCell>\n                        <Typography variant='subtitle2'>Wind</Typography>\n                    </TableCell>\n                    <TableCell>\n                        <Typography variant='body2'>\n                            {metersPerSecondToMph(data.windSpeed.value)} mph {getCardinalDirection(data.windDirection.value)}\n                        </Typography>\n                    </TableCell>\n                </TableRow>\n                {data.windGust.value && <TableRow className='mobile-wind'>\n                    <TableCell>\n                        <Typography variant='subtitle2'>Gusting</Typography>\n                    </TableCell>\n                    <TableCell>\n                        <Typography variant='body2'>\n                            {metersPerSecondToMph(data.windGust.value)} mph\n                        </Typography>\n                    </TableCell>\n                </TableRow>}\n\n            <TableRow>\n                <TableCell>\n                <Typography variant='subtitle2'>Humidity</Typography>\n                </TableCell>\n                <TableCell>\n                <Typography variant='body2'>{\n                    Math.round(data.relativeHumidity.value)\n                }%</Typography>\n                </TableCell>\n            </TableRow>\n\n            <TableRow>\n                <TableCell>\n                <Typography variant='subtitle2'>Dew Point</Typography>\n                </TableCell>\n                <TableCell>\n                <Typography variant='body2'>{\n                    CtoF(data.dewpoint.value)\n                }°F</Typography>\n                </TableCell>\n            </TableRow>\n\n            <TableRow>\n                <TableCell>\n                <Typography variant='subtitle2'>Visiblity</Typography>\n                </TableCell>\n                <TableCell>\n                <Typography variant='body2'>{\n                    metersToMiles(data.visibility.value)\n                } mi</Typography>\n                </TableCell>\n            </TableRow>\n\n            <TableRow>\n                <TableCell>\n                <Typography variant='subtitle2'>Pressure</Typography>\n                </TableCell>\n                <TableCell>\n                <Typography variant='body2'>{\n                    Math.round(data.barometricPressure.value * 0.01)\n                } mb</Typography>\n                </TableCell>\n            </TableRow>\n\n            </TableBody>\n        </Table>\n    </div>\n}","import React from 'react';\nimport {ResponsiveLine, LineSvgProps} from '@nivo/line';\nimport {Typography} from '@material-ui/core';\nimport moment from 'moment';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\ninterface WeatherLine extends LineSvgProps {\n    areaBaselineValue?: number;\n}\n\nexport default function WeatherLine({axisBottom, axisLeft, ...props}: WeatherLine) {\n    const isMobile = useMediaQuery('(max-width: 500px)');\n\n    return <ResponsiveLine\n        margin={{ top: 20, right: 20, bottom: 50, left: 50 }}\n        xScale={{\n            type: 'time',\n            format: 'native',\n            precision: 'day',\n        }}\n        xFormat=\"time:%m/%d %H:00\"\n        yFormat={(value) => `${value}°F`}\n        yScale={{ type: 'linear', min: 'auto', max: 'auto', stacked: true, reverse: false }}\n        curve='monotoneX'\n        axisTop={null}\n        axisRight={null}\n        axisBottom={{\n            format: '%a %m/%e',\n            tickValues: 'every day',\n            legendOffset: -12,\n            orient: 'bottom',\n            tickSize: 5,\n            tickPadding: 5,\n            tickRotation: isMobile ? -45 : 0,\n            ...axisBottom,\n        }}\n        axisLeft={{\n            orient: 'left',\n            tickSize: 5,\n            tickValues: 7,\n            tickPadding: 5,\n            tickRotation: 0,\n            legendOffset: -45,\n            legendPosition: 'middle',\n            ...axisLeft,\n        }}\n        colors={{ scheme: 'nivo' }}\n        lineWidth={2}\n        enablePoints={false}\n        enableArea={true}\n        areaOpacity={0.5}\n        useMesh={true}\n        enableSlices='x'\n        sliceTooltip={(slice) => {\n            return <div style={{\n                paddingTop: '2px',\n                paddingBottom: '2px',\n                paddingLeft: '4px',\n                paddingRight: '4px',\n                backgroundColor: '#fff',\n                border: '1px solid #eee',\n            }}>\n                <Typography variant='subtitle2'>\n                {slice.slice.points[0].data.yFormatted} @ {moment(slice.slice.points[0].data.x).format('hA')}\n                </Typography>\n            </div>\n        }}\n        {...props}\n    />\n}","import React from 'react';\nimport moment from 'moment';\nimport WeatherLine from './WeatherLine';\n\nexport default function HourlyGraphs({data}: {data: any | undefined}) {\n    if (!data) return null;\n\n    const height = '200px';\n\n\n    const times = data.temperature.data.map((d: any) => moment(d.x))\n    const minDay = moment.min(...times).startOf('day').add(1, 'day');\n    const maxDay = moment.max(...times).startOf('day');\n\n    const range = maxDay.diff(minDay, 'days');\n    const days = [minDay.toDate()]\n\n    for (let i = 1; i <= range; i++) {\n        days.push(minDay.clone().add(i, 'days').toDate())\n    }\n\n    return <div>\n        <div style={{height, userSelect: 'none'}}>\n            <WeatherLine\n                data={[data.temperature]}\n                areaBaselineValue={Math.min(...data.temperature.data.map((d: any) => d.value)) - 10}\n                yScale={{\n                    type: 'linear',\n                    min: Math.min(...data.temperature.data.map((d: any) => d.value)) - 10,\n                    max: Math.max(...data.temperature.data.map((d: any) => d.value)) + 10,\n                }}\n                yFormat={(value) => `${value}°F`}\n                axisLeft={{\n                    legend: 'Degrees F',\n                    format: (value) => `${value}°`,\n                }}\n                axisBottom={{tickValues: days}}\n                colors={'#ff8833'}\n            />\n        </div>\n\n        <div style={{height, userSelect: 'none'}}>\n            <WeatherLine\n                data={[data.skyCover]}\n                yFormat={(value) => `${value}%`}\n                yScale={{\n                    type: 'linear',\n                    min: 0,\n                    max: 100,\n                }}\n                axisLeft={{\n                    legend: 'Cloud cover',\n                    tickValues: [0, 25, 50, 75, 100],\n                    format: (value) => `${value}%`,\n                }}\n                axisBottom={{tickValues: days}}\n                colors={'#a3a3a3'}\n            />\n        </div>\n\n        <div style={{height, userSelect: 'none'}}>\n            <WeatherLine\n                data={[data.probabilityOfPrecipitation]}\n                yFormat={(value) => `${value}%`}\n                yScale={{\n                    type: 'linear',\n                    min: 0,\n                    max: 100,\n                }}\n                axisLeft={{\n                    legend: 'Chance of Precip',\n                    tickValues: [0, 25, 50, 75, 100],\n                    format: (value) => `${value}%`,\n                }}\n                axisBottom={{tickValues: days}}\n                colors={'#15aadc'}\n            />\n        </div>\n\n        <div style={{height, userSelect: 'none'}}>\n            <WeatherLine\n                data={[data.windSpeed]}\n                yFormat={(value) => `${value} mph`}\n                yScale={{\n                    type: 'linear',\n                    min: 0,\n                    max: Math.max(...data.windSpeed.data.map((d: any) => d.value)) + 2,\n                }}\n                axisLeft={{legend: 'Wind Speed (mph)'}}\n                axisBottom={{tickValues: days}}\n                colors={'#15aadc'}\n                enableArea={false}\n            />\n        </div>\n    </div>\n}","import Sun from './icons/sun.svg';\nimport PartlyCloudy from './icons/partly_cloudy.svg';\nimport MostlyCloudy from './icons/mostly_cloudy.svg';\nimport Cloudy from './icons/cloudy.svg';\nimport PartlyCloudyWindy from './icons/partly_cloudy_windy.svg';\nimport Snow from './icons/snow.svg';\nimport Rain from './icons/rain.svg';\nimport SunnyRain from './icons/sunny_rain.svg';\nimport Thunderstorm from './icons/thunderstorm.svg';\nimport SunThunderstorm from './icons/sun_thunderstorm.svg';\nimport Blizzard from './icons/blizzard.svg';\nimport Windy from './icons/windy.svg';\nimport CloudyWindy from './icons/cloudy_windy.svg';\n\n// https://thenounproject.com/anusha.narvekar/collection/weather/\nexport default {\n    \"skc\": {\n        \"description\": \"Fair/clear\",\n        \"icon\": Sun,\n    },\n    \"few\": {\n        \"description\": \"A few clouds\",\n        \"icon\": PartlyCloudy,\n    },\n    \"sct\": {\n        \"description\": \"Partly cloudy\",\n        \"icon\": PartlyCloudy,\n    },\n    \"bkn\": {\n        \"description\": \"Mostly cloudy\",\n        \"icon\": MostlyCloudy,\n    },\n    \"ovc\": {\n        \"description\": \"Overcast\",\n        \"icon\": Cloudy,\n    },\n    \"wind_skc\": {\n        \"description\": \"Fair/clear and windy\",\n        \"icon\": Windy,\n    },\n    \"wind_few\": {\n        \"description\": \"A few clouds and windy\",\n        \"icon\": PartlyCloudyWindy,\n    },\n    \"wind_sct\": {\n        \"description\": \"Partly cloudy and windy\",\n        \"icon\": PartlyCloudyWindy,\n    },\n    \"wind_bkn\": {\n        \"description\": \"Mostly cloudy and windy\",\n        \"icon\": CloudyWindy,\n    },\n    \"wind_ovc\": {\n        \"description\": \"Overcast and windy\",\n        \"icon\": CloudyWindy,\n    },\n    \"snow\": {\n        \"description\": \"Snow\",\n        \"icon\": Snow,\n    },\n    \"rain_snow\": {\n        \"description\": \"Rain/snow\"\n    },\n    \"rain_sleet\": {\n        \"description\": \"Rain/sleet\"\n    },\n    \"snow_sleet\": {\n        \"description\": \"Rain/sleet\"\n    },\n    \"fzra\": {\n        \"description\": \"Freezing rain\"\n    },\n    \"rain_fzra\": {\n        \"description\": \"Rain/freezing rain\"\n    },\n    \"snow_fzra\": {\n        \"description\": \"Freezing rain/snow\"\n    },\n    \"sleet\": {\n        \"description\": \"Sleet\"\n    },\n    \"rain\": {\n        \"description\": \"Rain\",\n        \"icon\": Rain,\n    },\n    \"rain_showers\": {\n        \"description\": \"Rain showers (high cloud cover)\",\n        \"icon\": Rain,\n    },\n    \"rain_showers_hi\": {\n        \"description\": \"Rain showers (low cloud cover)\",\n        \"icon\": SunnyRain,\n    },\n    \"tsra\": {\n        \"description\": \"Thunderstorm (high cloud cover)\",\n        \"icon\": Thunderstorm,\n    },\n    \"tsra_sct\": {\n        \"description\": \"Thunderstorm (medium cloud cover)\",\n        \"icon\": SunThunderstorm,\n    },\n    \"tsra_hi\": {\n        \"description\": \"Thunderstorm (low cloud cover)\",\n        \"icon\": SunThunderstorm,\n    },\n    \"tornado\": {\n        \"description\": \"Tornado\"\n    },\n    \"hurricane\": {\n        \"description\": \"Hurricane conditions\"\n    },\n    \"tropical_storm\": {\n        \"description\": \"Tropical storm conditions\"\n    },\n    \"dust\": {\n        \"description\": \"Dust\"\n    },\n    \"smoke\": {\n        \"description\": \"Smoke\"\n    },\n    \"haze\": {\n        \"description\": \"Haze\"\n    },\n    \"hot\": {\n        \"description\": \"Hot\"\n    },\n    \"cold\": {\n        \"description\": \"Cold\"\n    },\n    \"blizzard\": {\n        \"description\": \"Blizzard\",\n        \"icon\": Blizzard,\n    },\n    \"fog\": {\n        \"description\": \"Fog/mist\"\n    }\n}","import React, {useState, useEffect} from 'react';\nimport moment from 'moment';\nimport Forecast from './Forecast';\nimport CurrentConditions from './CurrentConditions';\nimport HourlyGraphs from './HourlyGraphs';\nimport {CtoF, parseIcon, distanceM, bearing} from './util';\nimport icons from './icons';\nimport {ForecastPeriod} from './types/ForecastPeriod';\n\nexport default function ForecastPage() {\n    const [data, setData] = useState<any>({\n        stationInfo: undefined,\n        currentConditions: undefined,\n        forecast: undefined,\n        hourlyForecast: undefined,\n    });\n    const [lastRefresh, setLastRefresh] = useState<moment.Moment | undefined>(undefined);\n\n    async function fetchData() {\n        const LNG = -93.2054;\n        const LAT = 44.9475;\n        const {grid, station} = await fetchLocationInfo(LNG, LAT);\n\n        let [stationInfo, currentConditions, forecast, hourlyForecast] = await Promise.all([\n            await fetchStationInfo(station.id),\n            await fetchCurrentConditions(station.id + '/observations/latest'),\n            await fetchForecast(grid + '/forecast'),\n            await fetchHourlyForecast(grid),\n        ]);\n\n        stationInfo.properties.distance = distanceM(\n          [LNG, LAT],\n          ((stationInfo.geometry.coordinates as any) as [number, number]),\n        );\n\n        stationInfo.properties.bearing = bearing(\n          [LNG, LAT],\n          ((stationInfo.geometry.coordinates as any) as [number, number]),\n        );\n\n        console.log(hourlyForecast)\n\n        forecast = forecast.map(day => {\n          const startTime = moment(day.startTime).startOf('day')\n          const endTime = moment(startTime).add(31, 'hours');\n\n          return {\n            ...day,\n            hourlyPrecip: hourlyForecast.probabilityOfPrecipitation.values.filter((d: any) =>\n                moment(d.validTime.split('/')[0]).isBetween(startTime, endTime)\n            ),\n            hourlyClouds: hourlyForecast.skyCover.values.filter((d: any) =>\n                moment(d.validTime.split('/')[0]).isBetween(startTime, endTime)\n            ),\n            hourlyTemp: hourlyForecast.temperature.values.filter((d: any) =>\n                moment(d.validTime.split('/')[0]).isBetween(startTime, endTime)\n            ),\n            hourlyFeelsLike: hourlyForecast.apparentTemperature.values.filter((d: any) =>\n                moment(d.validTime.split('/')[0]).isBetween(startTime, endTime)\n            ),\n            hourlyWind: hourlyForecast.windSpeed.values.filter((d: any) =>\n                moment(d.validTime.split('/')[0]).isBetween(startTime, endTime)\n            ),\n            hourlyWindGust: hourlyForecast.windGust.values.filter((d: any) =>\n                moment(d.validTime.split('/')[0]).isBetween(startTime, endTime)\n            ),\n            hourlyDewpoint: hourlyForecast.dewpoint.values.filter((d: any) =>\n                moment(d.validTime.split('/')[0]).isBetween(startTime, endTime)\n            ),\n          }\n        })\n\n       setData({stationInfo, currentConditions, forecast, hourlyForecast});\n       setLastRefresh(moment());\n    }\n\n    useEffect(() => {\n        fetchData();\n\n        // If the user puts the page in the background and comes back >= 5 minutes later, refresh\n        document.addEventListener('visibilitychange', () => {\n            const sinceLastRefresh = moment.duration(moment().diff(lastRefresh));\n            if (sinceLastRefresh.asMinutes() >= 5) {\n                fetchData();\n            }\n        });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return <div className='App' style={{maxWidth: '1000px', margin: '0 auto', padding: '25px'}}>\n        <CurrentConditions data={data.currentConditions} stationInfo={data.stationInfo}/>\n        <Forecast data={data.forecast} />\n        <HourlyGraphs data={data.hourlyForecast}/>\n    </div>\n}\n\nasync function fetchLocationInfo(lng: number, lat: number) {\n  const pointInfo = await fetch(`https://api.weather.gov/points/${lat},${lng}`)\n    .then(res => res.json());\n\n  const station = await fetch(pointInfo.properties.observationStations)\n    .then(res => res.json())\n    .then(json => json.features[0]);\n\n  return {\n    grid: pointInfo.properties.forecastGridData,\n    station,\n  }\n}\n\nasync function fetchStationInfo(url: string) {\n  const response = await fetch('https://api.weather.gov/stations/KMSP')\n    .then(res => res.json());\n\n    return response;\n}\n\nasync function fetchCurrentConditions(url: string) {\n    const response = await fetch('https://api.weather.gov/stations/KMSP/observations/latest')\n      .then(res => res.json())\n\n    const parsedIcons = parseIcon(response.properties.icon);\n    if (parsedIcons) {\n      response.properties.icon = (icons as any)[parsedIcons[0]?.icon].icon;\n    }\n\n    response.properties['feelsLike'] = (\n        response.properties.windChill.value || response.properties.heatIndex.value\n    );\n    return response.properties;\n}\n\nasync function fetchForecast(url: string): Promise<ForecastPeriod[]> {\n    const response = await fetch(url)\n      .then(res => res.json());\n\n    const parsed = response.properties.periods\n      .map((period: ForecastPeriod, idx: number) => {\n        const temps = [\n          period.temperature,\n          ...(response.properties.periods[idx] ? [response.properties.periods[idx].temperature] : []),\n          ...(response.properties.periods[idx + 1] ? [response.properties.periods[idx + 1].temperature] : [])\n        ]\n\n        const parsedIcon = parseIcon(period.icon)[0];\n        const balmyIcon = (icons as any)[parsedIcon.icon];\n\n        return {\n          ...period,\n          minTemp: Math.min(...temps),\n          maxTemp: Math.max(...temps),\n          precip: parsedIcon.percent,\n          icon: balmyIcon.icon || period.icon,\n        }\n      });\n\n     const days = parsed.map((day: ForecastPeriod) => {\n        const night = parsed.filter(\n          (period: ForecastPeriod) => {\n            if (period.name === day.name + ' Night') return period;\n            if (day.name === 'Today' && period.name === 'Tonight') return period;\n            return false;\n          }\n        );\n\n        return {\n          ...day,\n          night: night.length ? night[0] : undefined,\n          shortForecast: day.shortForecast.split(' then ')[0],\n\n        }\n      }).filter((period: ForecastPeriod) => period.isDaytime);\n\n    return days;\n}\n\n\nasync function fetchHourlyForecast(url: string) {\n    const hourly = await fetch(url)\n        .then(res => res.json())\n        .then(res => res.properties);\n\n    // Convert windspeed from knots to mph\n    hourly.windSpeed.data = hourly.windSpeed.values.map((d: any) => {\n        return {\n            ...d,\n            x: moment(d.validTime.split('/')[0]).toDate(),\n            y: Math.round(d.value * 1.15078),\n        }\n    });\n\n    // Convert temp from C to F\n    hourly.temperature.data = hourly.temperature.values.map((d: any) => {\n        return {\n            ...d,\n            x: moment(d.validTime.split('/')[0]).toDate(),\n            y: CtoF(d.value),\n            value: CtoF(d.value),\n        }\n    });\n\n    hourly.skyCover.data = hourly.skyCover.values.map((d: any) => {\n        return {\n            ...d,\n            x: moment(d.validTime.split('/')[0]).toDate(),\n            y: d.value,\n        }\n    });\n\n    hourly.probabilityOfPrecipitation.data = hourly.probabilityOfPrecipitation.values.map((d: any) => {\n        return {\n            ...d,\n            x: moment(d.validTime.split('/')[0]).toDate(),\n            y: d.value,\n        }\n    });\n\n    // Nivo needs an id\n    hourly.windSpeed['id'] = 'windSpeed';\n    hourly.skyCover['id'] = 'skyCover';\n    hourly.temperature['id'] = 'temperature';\n    hourly.probabilityOfPrecipitation['id'] = 'probabilityOfPrecipitation';\n\n    return hourly;\n}\n","import React, {useEffect, useState, useMemo} from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport Slider from '@material-ui/core/Slider';\nimport moment from 'moment';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport PauseIcon from '@material-ui/icons/Pause';\nimport IconButton from '@material-ui/core/IconButton';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\nmapboxgl.accessToken = 'pk.eyJ1Ijoiam9obmpjeiIsImEiOiJjazc5OW91M3UwMTEzM2ZxdTg0a3RlNHVkIn0.ebttXrA6i4iH0lxBLDGmjQ';\n\nexport default function Radar() {\n    const [map, setMap] = useState<mapboxgl.Map | undefined>();\n    const [startTime] = useState(moment().valueOf());\n    const [time, setTime] = useState(startTime);\n    const timeIntervals = useMemo(() => getTimeIntervals(startTime), [startTime]);\n    const [loopState, setLoopState] = useState<'loading'|'playing'|undefined>(undefined);\n    const [loop, setLoop] = useState<NodeJS.Timeout | undefined>(undefined);\n    const isMobile = useMediaQuery('(max-width: 500px)');\n\n    async function getRadarLoop() {\n        if (!map) return;\n        setLoopState('loading');\n        // Get a radar url for each time interval\n        const radarPromises = timeIntervals.map(interval => fetch(getRadarUrl(map, interval.value)));\n\n        await Promise.all(radarPromises);\n        setLoopState('playing');\n    }\n\n    useEffect(() => {\n        const innerMap = new mapboxgl.Map({\n            container: 'map',\n            maxZoom: 12,\n            minZoom: 4,\n            zoom: 7,\n            center: [-93.20523, 44.94776],\n            style: 'mapbox://styles/johnjcz/ck7t9f4aq2wuy1imokjil5qxm',\n            hash: true\n        });\n\n        setMap(innerMap);\n\n        innerMap.on('load', () => {\n            const bounds = innerMap.getBounds()\n\n            innerMap.addSource('radar', {\n                'type': 'image',\n                'url': getRadarUrl(innerMap),\n                'coordinates': [\n                    bounds.getNorthWest().toArray(),\n                    bounds.getNorthEast().toArray(),\n                    bounds.getSouthEast().toArray(),\n                    bounds.getSouthWest().toArray(),\n                ]\n            })\n\n            innerMap.addLayer({\n                'id': 'radar',\n                'source': 'radar',\n                'type': 'raster',\n                'paint': {\n                    'raster-opacity': 0.75,\n                    'raster-fade-duration': 0,\n                }\n            },)\n\n        })\n\n        innerMap.on('movestart', () => {\n            innerMap.setPaintProperty('radar', 'raster-opacity', 0)\n            if (loopState === 'playing') {\n                pauseLoop();\n            }\n        })\n\n        innerMap.on('moveend', async () => {\n            // Hack into the loading state\n            setLoopState('loading');\n            const bounds = innerMap.getBounds();\n            const radarSource = innerMap.getSource('radar') as mapboxgl.ImageSource;\n            const radarUrl = getRadarUrl(innerMap);\n\n            await fetch(radarUrl);\n\n            radarSource.updateImage({\n                url: radarUrl,\n                coordinates: [\n                    bounds.getNorthWest().toArray(),\n                    bounds.getNorthEast().toArray(),\n                    bounds.getSouthEast().toArray(),\n                    bounds.getSouthWest().toArray(),\n                ]\n            })\n            // A delay helps prevent the illusion of the radar jumping around\n            setTimeout(() => {\n                innerMap.setPaintProperty('radar', 'raster-opacity', 0.75);\n                setLoopState(undefined);\n            }, 500);\n\n        });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    useEffect(() => {\n        if (!map) return;\n\n        if (loopState === 'playing') {\n            let currentInterval = 0;\n\n            timeIntervals.forEach((interval, idx) => {\n                if (interval.value === time) {\n                    currentInterval = idx + 1;\n                }\n            });\n\n            if (currentInterval > timeIntervals.length - 1) {\n                currentInterval = 0;\n            }\n\n            setLoop(setInterval(() => {\n                if (currentInterval <= timeIntervals.length - 1) {\n                    (map.getSource('radar') as mapboxgl.ImageSource)\n                        .updateImage({ url: getRadarUrl(map, timeIntervals[currentInterval].value)});\n\n                    setTime(timeIntervals[currentInterval].value);\n                }\n\n                if (currentInterval === timeIntervals.length + 2) {\n                    currentInterval = 0;\n                } else {\n                    currentInterval++;\n                }\n\n            }, 250))\n        }\n\n        if (loopState === undefined && loop) {\n            pauseLoop();\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [loopState]);\n\n    function pauseLoop() {\n        if (!map || !loop) return;\n        clearInterval(loop);\n        setLoop(undefined);\n        (map.getSource('radar') as mapboxgl.ImageSource)\n                .updateImage({ url: getRadarUrl(map)});\n    }\n\n    function getRadarUrl(map: mapboxgl.Map, forceTime?: number) {\n\n        const bounds = map.getBounds().toArray()\n        const southWest = bounds[0]\n        const northEast = bounds[1]\n\n        const params = {\n            dpi: '96',\n            transparent: 'true',\n            format: 'png32',\n            // The type defintions for URLSearchParams want all values to be strings\n            time: forceTime ? `${forceTime}` : `${time}`,\n            bbox: `${southWest.join(',')},${northEast.join(',')}`,\n            bboxSR: '4326',\n            imageSR: '4326',\n            size: `${window.innerWidth},${window.innerHeight}`,\n            f: 'image',\n        }\n\n        const queryString = new URLSearchParams(params).toString()\n        return `https://nowcoast.noaa.gov/arcgis/rest/services/nowcoast/radar_meteo_imagery_nexrad_time/MapServer/export?dynamicLayers=%5B%7B%22id%22%3A3%2C%22name%22%3A%22Image%22%2C%22source%22%3A%7B%22type%22%3A%22mapLayer%22%2C%22mapLayerId%22%3A3%7D%2C%22minScale%22%3A0%2C%22maxScale%22%3A0%7D%5D&${queryString}`\n\n    }\n\n    function updateRadar() {\n        if (!map) return;\n\n        (map.getSource('radar') as mapboxgl.ImageSource).updateImage({\n            url: getRadarUrl(map)\n        });\n\n    }\n\n    return <div>\n        <div id='map' style={{position: 'absolute', width: '100%', height: `calc(100% - ${isMobile ? '56' : '64'}px)`}}></div>\n        <div style={{\n            position: 'absolute',\n            bottom: 0,\n            left: 0,\n            right: 0,\n            margin: '0 auto',\n            marginBottom: '35px',\n            paddingBottom: '8px',\n            paddingTop: '8px',\n            width: '325px',\n            backgroundColor: 'rgba(255,255,255,0.8)',\n            borderRadius: '6px',\n            display: 'flex',\n            justifyContent: 'space-evenly',\n            alignItems: 'center',\n        }}>\n            <div >\n                {loopState === undefined && <IconButton\n                    onClick={() => getRadarLoop()}\n                >\n                    <PlayArrowIcon/>\n                </IconButton>}\n                {loopState === 'loading' && <CircularProgress size={23} style={{padding:'11px', marginRight: '10px'}}/>}\n                {loopState === 'playing' && <IconButton\n                    onClick={() => setLoopState(undefined)}\n                >\n                    <PauseIcon/>\n                </IconButton>}\n            </div>\n\n            <div style={{\n                width: '200px',\n                marginLeft: '24px',\n                marginRight: '24px',\n            }}>\n                <Slider\n                    marks={timeIntervals}\n                    defaultValue={startTime.valueOf()}\n                    valueLabelDisplay='off'\n                    step={900000}\n                    min={moment(startTime).subtract(4, 'hours').valueOf()}\n                    max={startTime}\n                    onChange={(event, value) => {\n                        setTime((value as number));\n                        updateRadar();\n                    }}\n                    value={time}\n                />\n            </div>\n\n        </div>\n    </div>\n}\n\nfunction getTimeIntervals(startTime: number) {\n    return [\n        {\n            value: moment(startTime).subtract(4, 'hours').valueOf(),\n            label: moment(startTime).subtract(4, 'hours').format('H:mm'),\n        },\n        {\n            value: moment(startTime).subtract(3.5, 'hours').valueOf(),\n        },\n        {\n            value: moment(startTime).subtract(3.25, 'hours').valueOf(),\n        },\n        {\n            value: moment(startTime).subtract(3, 'hours').valueOf(),\n            label: moment(startTime).subtract(3, 'hours').format('H:mm'),\n        },\n        {\n            value: moment(startTime).subtract(2.5, 'hours').valueOf(),\n        },\n        {\n            value: moment(startTime).subtract(2.25, 'hours').valueOf(),\n        },\n        {\n            value: moment(startTime).subtract(2, 'hours').valueOf(),\n            label: moment(startTime).subtract(2, 'hours').format('H:mm'),\n        },\n        {\n            value: moment(startTime).subtract(1.5, 'hours').valueOf(),\n        },\n        {\n            value: moment(startTime).subtract(1.25, 'hours').valueOf(),\n        },\n        {\n            value: moment(startTime).subtract(1, 'hours').valueOf(),\n            label: moment(startTime).subtract(1, 'hours').format('H:mm'),\n        },\n        {\n            value: moment(startTime).subtract(0.5, 'hours').valueOf(),\n        },\n        {\n            value: moment(startTime).subtract(0.25, 'hours').valueOf(),\n        },\n        {\n            value: startTime,\n            label: moment(startTime).format('H:mm'),\n        },\n    ]\n}","import React from 'react';\nimport {Link, useLocation} from 'react-router-dom';\nimport SatelliteIcon from '@material-ui/icons/Satellite';\nimport WbSunnyIcon from '@material-ui/icons/WbSunny';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\n\nexport default function Header() {\n  const location = useLocation();\n\n  return <AppBar position='static'>\n    <Toolbar>\n      <div style={{flexGrow: 1}}>\n        <Link to='/' style={{textDecoration: 'none'}}>\n          <Typography variant='h5' style={{color: '#fff', fontFamily: 'Spartan'}}>\n            balmy.us\n          </Typography>\n        </Link>\n      </div>\n\n      <div>\n        {location.pathname === '/' && <Link to='/radar' style={{textDecoration: 'none', color: '#fff'}}>\n          <Button startIcon={<SatelliteIcon/>} style={{color: '#fff'}}>\n              Radar\n          </Button>\n        </Link>}\n\n        {location.pathname === '/radar' && <Link to='/' style={{textDecoration: 'none', color: '#fff'}}>\n          <Button startIcon={<WbSunnyIcon/>} style={{color: '#fff'}}>\n              Forecast\n          </Button>\n        </Link>}\n      </div>\n    </Toolbar>\n  </AppBar>\n}\n","import { createMuiTheme, responsiveFontSizes } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n    palette: {\n            primary: {500: \"#F2B705\"},\n            // secondary: green,\n    }\n});\n\nexport default responsiveFontSizes(theme);","import React from 'react';\nimport {BrowserRouter, Switch, Route} from 'react-router-dom';\nimport './App.css';\nimport ForecastPage from './ForecastPage';\nimport Radar from './Radar';\nimport Header from './Header';\nimport {ThemeProvider} from '@material-ui/core/styles';\nimport theme from './theme';\n\nfunction App() {\n\n  return (\n    <ThemeProvider theme={theme}>\n      <BrowserRouter>\n        <Header/>\n        <Switch>\n\n          <Route path='/radar'>\n            <Radar />\n          </Route>\n\n          <Route path='/'>\n            <ForecastPage />\n          </Route>\n\n        </Switch>\n      </BrowserRouter>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}