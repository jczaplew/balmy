(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{175:function(e,t,a){e.exports=a.p+"static/media/partly_cloudy.4ae3e84d.svg"},176:function(e,t,a){e.exports=a.p+"static/media/partly_cloudy_windy.bb410bac.svg"},177:function(e,t,a){e.exports=a.p+"static/media/rain.633504b6.svg"},178:function(e,t,a){e.exports=a.p+"static/media/sun_thunderstorm.092af83d.svg"},179:function(e,t,a){e.exports=a.p+"static/media/cloudy_windy.475f49b1.svg"},253:function(e,t,a){e.exports=a.p+"static/media/sun.c536ba25.svg"},254:function(e,t,a){e.exports=a.p+"static/media/mostly_cloudy.9bed9624.svg"},255:function(e,t,a){e.exports=a.p+"static/media/cloudy.e3f4d975.svg"},256:function(e,t,a){e.exports=a.p+"static/media/snow.7f879cdd.svg"},257:function(e,t,a){e.exports=a.p+"static/media/sunny_rain.bdf06b84.svg"},258:function(e,t,a){e.exports=a.p+"static/media/thunderstorm.41430d17.svg"},259:function(e,t,a){e.exports=a.p+"static/media/blizzard.4181412c.svg"},260:function(e,t,a){e.exports=a.p+"static/media/windy.d1a8592d.svg"},313:function(e,t,a){e.exports=a(455)},318:function(e,t,a){},319:function(e,t,a){},455:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(23),o=a.n(i),c=(a(318),a(82)),l=a(55),s=(a(319),a(28)),u=a(15),d=a.n(u),p=a(41),m=a(44),f=a(17),v=a(5),h=a.n(v),y=a(518),b=a(519),E=a(521),x=a(520),g=a(458),w=a(131),O=a(512),j=a(513),k=a(511),M=a(529),S=Object(M.a)({cardRoot:{margin:"8px",width:"230px",height:"175px",display:"inline-block"},cardRootMobile:{margin:"4px",padding:"4px",width:"110px",height:"100px",display:"inline-block"},cardContentMobile:{padding:"4px","&:last-child":{paddingBottom:0}}});function T(e){var t=e.period,a=Object(w.a)(e,["period"]),n=Object(k.a)("(max-width: 500px)"),i=S(),o=n?"ddd D":"dddd MMM D";return r.a.createElement(O.a,Object.assign({classes:{root:n?i.cardRootMobile:i.cardRoot}},a),r.a.createElement(j.a,{classes:{root:n?i.cardContentMobile:""}},r.a.createElement(g.a,{variant:"subtitle1",style:{fontFamily:"Spartan"}},h()(t.startTime).format(o)),r.a.createElement("div",{style:{display:n?"block":"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement("div",{style:{display:n?"block":"inline-block"}},r.a.createElement("img",{src:t.icon,style:{height:n?"30px":"45px"},alt:""})),r.a.createElement("div",{style:{display:n?"block":"inline-block",textAlign:"center",marginLeft:n?0:"16px",paddingTop:n?"4px":"8px",paddingBottom:n?0:"8px"}},r.a.createElement(g.a,{variant:"h6"},r.a.createElement("span",{style:{color:"#d5202a"}},t.maxTemp),"\xb0"," | ",r.a.createElement("span",{style:{color:"#0053ae"}},t.minTemp),"\xb0",r.a.createElement("span",{style:{fontWeight:400}},"F")),!n&&r.a.createElement(g.a,{variant:"body2"},t.windSpeed," ",t.windDirection))),!n&&r.a.createElement(g.a,{variant:"body2"},t.shortForecast)))}var F=a(517),I=a(530),C=a(516),B=a(515),P=a(514),A=a(534),L=a(54),D=a.n(L),R=a(125),_=a.n(R);function z(e){return Math.round(9*e/5+32)}function W(e){return Math.round(2.23694*e)}function N(e){return Math.round(.0006213712*e)}function H(e){return e.replace("https://api.weather.gov/icons/","").split("?")[0].split("/").slice(2).map((function(e){return e.split(",")})).map((function(e){return{icon:e[0],percent:parseInt(e[1])}})).sort((function(e,t){return t.percent-e.percent}))}function V(e,t){var a=(t[1]-e[1])*Math.PI/180,n=(t[0]-e[0])*Math.PI/180,r=Math.sin(a/2)*Math.sin(a/2)+Math.cos(e[1]*Math.PI/180)*Math.cos(t[1]*Math.PI/180)*Math.sin(n/2)*Math.sin(n/2);return 2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r))*6371e3}function G(e,t){var a=Math.sin(t[1]-e[1])*Math.cos(t[0]),n=Math.cos(e[0])*Math.sin(t[0])-Math.sin(e[0])*Math.cos(t[0])*Math.cos(t[1]-e[1]);return(180*Math.atan2(a,n)/Math.PI+360)%360}function q(e){var t=e.day.hourlyTemp.map((function(e){return[h()(e.validTime.split("/")[0]).valueOf(),z(e.value)]})),a=(Object(n.useMemo)((function(){return function(e){console.log("addEvent"),D.a.addEvent(e.container,"mouseover",(function(e){if(e)for(var t=function(t){var a=D.a.charts[t];if(!a)return"continue";var n=a.pointer.normalize(e);a.series.forEach((function(e){var t=e.searchPoint(n,!0);t?t.select(!0,!0):e.select(!1)}))},a=0;a<D.a.charts.length;a++)t(a)}))}}),[]),{chart:{type:"areaspline",height:125,marginLeft:45},time:{useUTC:!1},legend:{enabled:!1},title:{text:void 0},xAxis:{type:"datetime",dateTimeLabelFormats:{hour:"%H"},labels:{format:"{value:%H}"},plotLines:[{color:"#aaaaaa",value:h()().valueOf(),width:1,zIndex:2}],max:h()(t[0][0]).endOf("day").add(4,"hours").valueOf()},yAxis:{title:{text:void 0},endOnTick:!1,tickInterval:5,min:Math.min.apply(Math,Object(s.a)(t.map((function(e){return e[1]}))))-5,max:Math.max.apply(Math,Object(s.a)(t.map((function(e){return e[1]}))))+5},tooltip:{shared:!0,formatter:function(){return"".concat(this.y,"\xb0F @ ").concat(h()(this.x).format("h A"))}},credits:{enabled:!1},plotOptions:{areaspline:{fillOpacity:.5,marker:{enabled:!1}}},series:[{name:"Temperature",type:"areaspline",data:t,color:"#ff8833"}]});return r.a.createElement(_.a,{highcharts:D.a,options:a})}function J(e){var t=e.day,a=t.hourlyPrecip.map((function(e){return[h()(e.validTime.split("/")[0]).valueOf(),e.value]})),n=t.hourlyClouds.map((function(e){return[h()(e.validTime.split("/")[0]).valueOf(),e.value]})),i={chart:{type:"areaspline",height:125,marginLeft:45},time:{useUTC:!1},legend:{enabled:!1},title:{text:void 0},xAxis:{type:"datetime",dateTimeLabelFormats:{hour:"%H"},labels:{format:"{value:%H}"},plotLines:[{color:"#aaaaaa",value:h()().valueOf(),width:1,zIndex:2}],max:h()(n[0][0]).endOf("day").add(4,"hours").valueOf()},yAxis:{title:{text:void 0},endOnTick:!1,tickInterval:5,min:0,max:100},tooltip:{shared:!0,formatter:function(){return"".concat(this.y," @ ").concat(h()(this.x).format("h A"))}},credits:{enabled:!1},plotOptions:{areaspline:{fillOpacity:.5,marker:{enabled:!1}}},series:[{name:"Precip",type:"areaspline",data:a,color:"#15aadc"},{name:"Clouds",type:"areaspline",data:n,color:"#a3a3a3"}]};return r.a.createElement(_.a,{highcharts:D.a,options:i})}var U=r.a.forwardRef((function(e,t){return r.a.createElement(A.a,Object.assign({direction:"up",ref:t},e))}));function X(e){var t=e.day,a=e.open,n=e.setOpen;return t?r.a.createElement(I.a,{open:a,TransitionComponent:U,keepMounted:!0,onClose:function(){return n(!1)}},r.a.createElement(P.a,null,h()(t.startTime).format("dddd MMM Do")),r.a.createElement(B.a,null,r.a.createElement("div",{style:{paddingBottom:"24px"}},r.a.createElement("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px"}},r.a.createElement("img",{src:t.icon,style:{height:"75px",marginRight:"16px"},alt:""}),r.a.createElement(g.a,{variant:"h6"},r.a.createElement("span",{style:{color:"#d5202a"}},t.temperature),"\xb0F")),r.a.createElement(g.a,{variant:"body1"},t.detailedForecast)),r.a.createElement(q,{day:t}),r.a.createElement(J,{day:t}),t.night&&r.a.createElement("div",null,r.a.createElement(g.a,{variant:"h6"},"Overnight"),r.a.createElement("div",{style:{display:"flex",alignItems:"center",marginTop:"16px",marginBottom:"16px"}},r.a.createElement("img",{src:t.night.icon,style:{height:"75px",marginRight:"16px"},alt:""}),r.a.createElement(g.a,{variant:"h6"},r.a.createElement("span",{style:{color:"#d5202a"}},t.night.temperature),"\xb0F")),r.a.createElement(g.a,{variant:"body1"},t.night.detailedForecast))),r.a.createElement(C.a,null,r.a.createElement(F.a,{onClick:function(){return n(!1)},color:"primary"},"Close"))):null}function Z(e){var t=e.data,a=Object(k.a)("(max-width: 500px)"),i=Object(n.useState)(!1),o=Object(f.a)(i,2),c=o[0],l=o[1],s=Object(n.useState)(),u=Object(f.a)(s,2),d=u[0],p=u[1];return t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{overflowX:"scroll"}},r.a.createElement("div",{style:{width:a?"900px":"1750px",display:"flex",paddingTop:"16px",paddingBottom:"16px"}},t.map((function(e,t){return r.a.createElement(T,{key:t,period:e,onClick:function(){l(!0),p(e)}})})))),!a&&r.a.createElement(y.a,null,r.a.createElement(b.a,null,t.map((function(e,t){return r.a.createElement(x.a,{key:t},r.a.createElement(E.a,{style:{padding:a?"10px":"16px"}},r.a.createElement(g.a,{variant:"body2"},h()(e.startTime).format("ddd")," ",h()(e.startTime).format("M/D"))),r.a.createElement(E.a,{style:{padding:a?"10px":"16px"}},r.a.createElement(g.a,{variant:"body2"},r.a.createElement("span",{style:{color:"#d5202a"}},e.maxTemp),"\xb0"," | ",r.a.createElement("span",{style:{color:"#0053ae"}},e.minTemp),"\xb0",r.a.createElement("span",{style:{fontWeight:400}},"F"))),r.a.createElement(E.a,{style:{padding:a?"10px":"16px"}},r.a.createElement(g.a,{variant:"body2"},e.windSpeed," ",e.windDirection)),!a&&r.a.createElement(E.a,{style:{width:"50%",textAlign:"left",padding:a?"10px":"16px"}},r.a.createElement(g.a,{variant:"body2"},e.detailedForecast)))})))),r.a.createElement(X,{day:d,open:c,setOpen:l})):null}var K=a(240),Q=a.n(K);function $(e){switch(!0){case e>=348.76||e<=11.25:return"N";case e>=11.26&&e<=33.75:return"NNE";case e>=33.76&&e<=56.25:return"NE";case e>=56.26&&e<=78.75:return"ENE";case e>=78.76&&e<=101.25:return"E";case e>=101.26&&e<=123.75:return"ESE";case e>=123.76&&e<=146.25:return"SE";case e>=146.26&&e<=168.75:return"SSE";case e>=168.76&&e<=191.25:return"S";case e>=191.26&&e<=213.75:return"SSW";case e>=213.76&&e<=236.25:return"SW";case e>=236.26&&e<=258.75:return"WSW";case e>=258.76&&e<=281.25:return"W";case e>=281.26&&e<=303.75:return"WNW";case e>=303.76&&e<=326.25:return"NW";case e>=326.26&&e<=348.75:return"NNW";default:return"N/A"}}function Y(e){var t=e.data,a=e.stationInfo,n=Object(k.a)("(max-width: 500px)");if(!t||!a)return null;var i=a.properties.name.split(",");return i=i[1]?i[1].trim():a.properties.name,r.a.createElement("div",null,r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement(g.a,{variant:"h5"},i)),r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:n?"space-evenly":"space-between",padding:n?0:"40px"}},r.a.createElement("div",null,r.a.createElement("img",{src:t.icon,style:{width:n?"130px":"175px"},alt:""})),r.a.createElement("div",null,r.a.createElement(g.a,{variant:n?"h2":"h1",style:{fontFamily:"Spartan"}},z(t.temperature.value),"\xb0F"),t.feelsLike&&r.a.createElement(g.a,{variant:"h5"},"Feels like ",z(t.feelsLike),"\xb0F"),!n&&r.a.createElement("div",null,r.a.createElement(g.a,{variant:"h3",style:{display:"inline-block"}},r.a.createElement(Q.a,{style:{transform:"rotate(".concat(t.windDirection.value-180,"deg)"),marginRight:"8px"}}),W(t.windSpeed.value),t.windGust.value?" | "+W(t.windGust.value):""),r.a.createElement(g.a,{variant:"h5",style:{display:"inline-block",marginLeft:"8px"}},"mph"),r.a.createElement(g.a,{variant:"h5",style:{display:"inline-block",marginLeft:"8px"}},$(t.windDirection.value)))),!n&&r.a.createElement(ee,{data:t,stationInfo:a})),n&&r.a.createElement(ee,{data:t,stationInfo:a}))}function ee(e){var t=e.data,a=e.stationInfo;if(!t)return null;var n,i=N(a.properties.distance);return r.a.createElement("div",null,r.a.createElement(y.a,{size:"small"},r.a.createElement(b.a,null,r.a.createElement(x.a,null,r.a.createElement(E.a,null,r.a.createElement(g.a,{variant:"subtitle2"},"Last updated")),r.a.createElement(E.a,null,r.a.createElement(g.a,{variant:"body2"},h()(t.timestamp).fromNow()))),r.a.createElement(x.a,null,r.a.createElement(E.a,null,r.a.createElement(g.a,{variant:"subtitle2"},"Elevation")),r.a.createElement(E.a,null,r.a.createElement(g.a,{variant:"body2"},(n=a.properties.elevation.value,Math.round(3.28084*n))," ft"))),r.a.createElement(x.a,null,r.a.createElement(E.a,null,r.a.createElement(g.a,{variant:"subtitle2"},"Distance")),r.a.createElement(E.a,null,r.a.createElement(g.a,{variant:"body2"},i," mi ",$(a.properties.bearing)))),r.a.createElement(x.a,{className:"mobile-wind"},r.a.createElement(E.a,null,r.a.createElement(g.a,{variant:"subtitle2"},"Wind")),r.a.createElement(E.a,null,r.a.createElement(g.a,{variant:"body2"},W(t.windSpeed.value)," mph ",$(t.windDirection.value)))),t.windGust.value&&r.a.createElement(x.a,{className:"mobile-wind"},r.a.createElement(E.a,null,r.a.createElement(g.a,{variant:"subtitle2"},"Gusting")),r.a.createElement(E.a,null,r.a.createElement(g.a,{variant:"body2"},W(t.windGust.value)," mph"))),r.a.createElement(x.a,null,r.a.createElement(E.a,null,r.a.createElement(g.a,{variant:"subtitle2"},"Humidity")),r.a.createElement(E.a,null,r.a.createElement(g.a,{variant:"body2"},Math.round(t.relativeHumidity.value),"%"))),r.a.createElement(x.a,null,r.a.createElement(E.a,null,r.a.createElement(g.a,{variant:"subtitle2"},"Dew Point")),r.a.createElement(E.a,null,r.a.createElement(g.a,{variant:"body2"},z(t.dewpoint.value),"\xb0F"))),r.a.createElement(x.a,null,r.a.createElement(E.a,null,r.a.createElement(g.a,{variant:"subtitle2"},"Visiblity")),r.a.createElement(E.a,null,r.a.createElement(g.a,{variant:"body2"},N(t.visibility.value)," mi"))),r.a.createElement(x.a,null,r.a.createElement(E.a,null,r.a.createElement(g.a,{variant:"subtitle2"},"Pressure")),r.a.createElement(E.a,null,r.a.createElement(g.a,{variant:"body2"},Math.round(.01*t.barometricPressure.value)," mb"))))))}var te=a(241);function ae(e){var t=e.axisBottom,a=e.axisLeft,n=Object(w.a)(e,["axisBottom","axisLeft"]),i=Object(k.a)("(max-width: 500px)");return r.a.createElement(te.a,Object.assign({margin:{top:20,right:20,bottom:50,left:50},xScale:{type:"time",format:"native",precision:"day"},xFormat:"time:%m/%d %H:00",yFormat:function(e){return"".concat(e,"\xb0F")},yScale:{type:"linear",min:"auto",max:"auto",stacked:!0,reverse:!1},curve:"monotoneX",axisTop:null,axisRight:null,axisBottom:Object(p.a)({format:"%a %m/%e",tickValues:"every day",legendOffset:-12,orient:"bottom",tickSize:5,tickPadding:5,tickRotation:i?-45:0},t),axisLeft:Object(p.a)({orient:"left",tickSize:5,tickValues:7,tickPadding:5,tickRotation:0,legendOffset:-45,legendPosition:"middle"},a),colors:{scheme:"nivo"},lineWidth:2,enablePoints:!1,enableArea:!0,areaOpacity:.5,useMesh:!0,enableSlices:"x",sliceTooltip:function(e){return r.a.createElement("div",{style:{paddingTop:"2px",paddingBottom:"2px",paddingLeft:"4px",paddingRight:"4px",backgroundColor:"#fff",border:"1px solid #eee"}},r.a.createElement(g.a,{variant:"subtitle2"},e.slice.points[0].data.yFormatted," @ ",h()(e.slice.points[0].data.x).format("hA")))}},n))}function ne(e){var t=e.data;if(!t)return null;for(var a=t.temperature.data.map((function(e){return h()(e.x)})),n=h.a.min.apply(h.a,Object(s.a)(a)).startOf("day").add(1,"day"),i=h.a.max.apply(h.a,Object(s.a)(a)).startOf("day").diff(n,"days"),o=[n.toDate()],c=1;c<=i;c++)o.push(n.clone().add(c,"days").toDate());return r.a.createElement("div",null,r.a.createElement("div",{style:{height:"200px",userSelect:"none"}},r.a.createElement(ae,{data:[t.temperature],areaBaselineValue:Math.min.apply(Math,Object(s.a)(t.temperature.data.map((function(e){return e.value}))))-10,yScale:{type:"linear",min:Math.min.apply(Math,Object(s.a)(t.temperature.data.map((function(e){return e.value}))))-10,max:Math.max.apply(Math,Object(s.a)(t.temperature.data.map((function(e){return e.value}))))+10},yFormat:function(e){return"".concat(e,"\xb0F")},axisLeft:{legend:"Degrees F",format:function(e){return"".concat(e,"\xb0")}},axisBottom:{tickValues:o},colors:"#ff8833"})),r.a.createElement("div",{style:{height:"200px",userSelect:"none"}},r.a.createElement(ae,{data:[t.skyCover],yFormat:function(e){return"".concat(e,"%")},yScale:{type:"linear",min:0,max:100},axisLeft:{legend:"Cloud cover",tickValues:[0,25,50,75,100],format:function(e){return"".concat(e,"%")}},axisBottom:{tickValues:o},colors:"#a3a3a3"})),r.a.createElement("div",{style:{height:"200px",userSelect:"none"}},r.a.createElement(ae,{data:[t.probabilityOfPrecipitation],yFormat:function(e){return"".concat(e,"%")},yScale:{type:"linear",min:0,max:100},axisLeft:{legend:"Chance of Precip",tickValues:[0,25,50,75,100],format:function(e){return"".concat(e,"%")}},axisBottom:{tickValues:o},colors:"#15aadc"})),r.a.createElement("div",{style:{height:"200px",userSelect:"none"}},r.a.createElement(ae,{data:[t.windSpeed],yFormat:function(e){return"".concat(e," mph")},yScale:{type:"linear",min:0,max:Math.max.apply(Math,Object(s.a)(t.windSpeed.data.map((function(e){return e.value}))))+2},axisLeft:{legend:"Wind Speed (mph)"},axisBottom:{tickValues:o},colors:"#15aadc",enableArea:!1})))}var re=a(253),ie=a.n(re),oe=a(175),ce=a.n(oe),le=a(254),se=a.n(le),ue=a(255),de=a.n(ue),pe=a(176),me=a.n(pe),fe=a(256),ve=a.n(fe),he=a(177),ye=a.n(he),be=a(257),Ee=a.n(be),xe=a(258),ge=a.n(xe),we=a(178),Oe=a.n(we),je=a(259),ke=a.n(je),Me=a(260),Se=a.n(Me),Te=a(179),Fe=a.n(Te),Ie={skc:{description:"Fair/clear",icon:ie.a},few:{description:"A few clouds",icon:ce.a},sct:{description:"Partly cloudy",icon:ce.a},bkn:{description:"Mostly cloudy",icon:se.a},ovc:{description:"Overcast",icon:de.a},wind_skc:{description:"Fair/clear and windy",icon:Se.a},wind_few:{description:"A few clouds and windy",icon:me.a},wind_sct:{description:"Partly cloudy and windy",icon:me.a},wind_bkn:{description:"Mostly cloudy and windy",icon:Fe.a},wind_ovc:{description:"Overcast and windy",icon:Fe.a},snow:{description:"Snow",icon:ve.a},rain_snow:{description:"Rain/snow"},rain_sleet:{description:"Rain/sleet"},snow_sleet:{description:"Rain/sleet"},fzra:{description:"Freezing rain"},rain_fzra:{description:"Rain/freezing rain"},snow_fzra:{description:"Freezing rain/snow"},sleet:{description:"Sleet"},rain:{description:"Rain",icon:ye.a},rain_showers:{description:"Rain showers (high cloud cover)",icon:ye.a},rain_showers_hi:{description:"Rain showers (low cloud cover)",icon:Ee.a},tsra:{description:"Thunderstorm (high cloud cover)",icon:ge.a},tsra_sct:{description:"Thunderstorm (medium cloud cover)",icon:Oe.a},tsra_hi:{description:"Thunderstorm (low cloud cover)",icon:Oe.a},tornado:{description:"Tornado"},hurricane:{description:"Hurricane conditions"},tropical_storm:{description:"Tropical storm conditions"},dust:{description:"Dust"},smoke:{description:"Smoke"},haze:{description:"Haze"},hot:{description:"Hot"},cold:{description:"Cold"},blizzard:{description:"Blizzard",icon:ke.a},fog:{description:"Fog/mist"}};function Ce(){var e=Object(n.useState)({stationInfo:void 0,currentConditions:void 0,forecast:void 0,hourlyForecast:void 0}),t=Object(f.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)(void 0),c=Object(f.a)(o,2),l=c[0],s=c[1];function u(){return v.apply(this,arguments)}function v(){return(v=Object(m.a)(d.a.mark((function e(){var t,a,n,r,o,c,l,u,m,v,y;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=-93.2054,a=44.9475,e.next=4,Be(t,a);case 4:return n=e.sent,r=n.grid,o=n.station,e.t0=Promise,e.next=10,Ae(o.id);case 10:return e.t1=e.sent,e.next=13,De(o.id+"/observations/latest");case 13:return e.t2=e.sent,e.next=16,_e(r+"/forecast");case 16:return e.t3=e.sent,e.next=19,We(r);case 19:return e.t4=e.sent,e.t5=[e.t1,e.t2,e.t3,e.t4],e.next=23,e.t0.all.call(e.t0,e.t5);case 23:c=e.sent,l=Object(f.a)(c,4),u=l[0],m=l[1],v=l[2],y=l[3],u.properties.distance=V([t,a],u.geometry.coordinates),u.properties.bearing=G([t,a],u.geometry.coordinates),console.log(y),v=v.map((function(e){var t=h()(e.startTime).startOf("day"),a=h()(t).add(31,"hours");return Object(p.a)({},e,{hourlyPrecip:y.probabilityOfPrecipitation.values.filter((function(e){return h()(e.validTime.split("/")[0]).isBetween(t,a)})),hourlyClouds:y.skyCover.values.filter((function(e){return h()(e.validTime.split("/")[0]).isBetween(t,a)})),hourlyTemp:y.temperature.values.filter((function(e){return h()(e.validTime.split("/")[0]).isBetween(t,a)})),hourlyFeelsLike:y.apparentTemperature.values.filter((function(e){return h()(e.validTime.split("/")[0]).isBetween(t,a)})),hourlyWind:y.windSpeed.values.filter((function(e){return h()(e.validTime.split("/")[0]).isBetween(t,a)})),hourlyWindGust:y.windGust.values.filter((function(e){return h()(e.validTime.split("/")[0]).isBetween(t,a)})),hourlyDewpoint:y.dewpoint.values.filter((function(e){return h()(e.validTime.split("/")[0]).isBetween(t,a)}))})})),i({stationInfo:u,currentConditions:m,forecast:v,hourlyForecast:y}),s(h()());case 35:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){u(),document.addEventListener("visibilitychange",(function(){h.a.duration(h()().diff(l)).asMinutes()>=5&&u()}))}),[]),r.a.createElement("div",{className:"App",style:{maxWidth:"1000px",margin:"0 auto",padding:"25px"}},r.a.createElement(Y,{data:a.currentConditions,stationInfo:a.stationInfo}),r.a.createElement(Z,{data:a.forecast}),r.a.createElement(ne,{data:a.hourlyForecast}))}function Be(e,t){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(m.a)(d.a.mark((function e(t,a){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.weather.gov/points/".concat(a,",").concat(t)).then((function(e){return e.json()}));case 2:return n=e.sent,e.next=5,fetch(n.properties.observationStations).then((function(e){return e.json()})).then((function(e){return e.features[0]}));case 5:return r=e.sent,e.abrupt("return",{grid:n.properties.forecastGridData,station:r});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(e){return Le.apply(this,arguments)}function Le(){return(Le=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.weather.gov/stations/KMSP").then((function(e){return e.json()}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(e){return Re.apply(this,arguments)}function Re(){return(Re=Object(m.a)(d.a.mark((function e(t){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.weather.gov/stations/KMSP/observations/latest").then((function(e){return e.json()}));case 2:return a=e.sent,(n=H(a.properties.icon))&&(a.properties.icon=Ie[null===(r=n[0])||void 0===r?void 0:r.icon].icon),a.properties.feelsLike=a.properties.windChill.value||a.properties.heatIndex.value,e.abrupt("return",a.properties);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e){return ze.apply(this,arguments)}function ze(){return(ze=Object(m.a)(d.a.mark((function e(t){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.json()}));case 2:return a=e.sent,n=a.properties.periods.map((function(e,t){var n=[e.temperature].concat(Object(s.a)(a.properties.periods[t]?[a.properties.periods[t].temperature]:[]),Object(s.a)(a.properties.periods[t+1]?[a.properties.periods[t+1].temperature]:[])),r=H(e.icon)[0],i=Ie[r.icon];return Object(p.a)({},e,{minTemp:Math.min.apply(Math,Object(s.a)(n)),maxTemp:Math.max.apply(Math,Object(s.a)(n)),precip:r.percent,icon:i.icon||e.icon})})),r=n.map((function(e){var t=n.filter((function(t){return(t.name===e.name+" Night"||"Today"===e.name&&"Tonight"===t.name)&&t}));return Object(p.a)({},e,{night:t.length?t[0]:void 0,shortForecast:e.shortForecast.split(" then ")[0]})})).filter((function(e){return e.isDaytime})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(e){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.json()})).then((function(e){return e.properties}));case 2:return(a=e.sent).windSpeed.data=a.windSpeed.values.map((function(e){return Object(p.a)({},e,{x:h()(e.validTime.split("/")[0]).toDate(),y:Math.round(1.15078*e.value)})})),a.temperature.data=a.temperature.values.map((function(e){return Object(p.a)({},e,{x:h()(e.validTime.split("/")[0]).toDate(),y:z(e.value),value:z(e.value)})})),a.skyCover.data=a.skyCover.values.map((function(e){return Object(p.a)({},e,{x:h()(e.validTime.split("/")[0]).toDate(),y:e.value})})),a.probabilityOfPrecipitation.data=a.probabilityOfPrecipitation.values.map((function(e){return Object(p.a)({},e,{x:h()(e.validTime.split("/")[0]).toDate(),y:e.value})})),a.windSpeed.id="windSpeed",a.skyCover.id="skyCover",a.temperature.id="temperature",a.probabilityOfPrecipitation.id="probabilityOfPrecipitation",e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var He=a(180),Ve=a.n(He),Ge=a(532),qe=a(525),Je=a(261),Ue=a.n(Je),Xe=a(262),Ze=a.n(Xe),Ke=a(524);function Qe(){var e=Object(n.useState)(),t=Object(f.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)(h()().valueOf()),c=Object(f.a)(o,1)[0],l=Object(n.useState)(c),s=Object(f.a)(l,2),u=s[0],p=s[1],v=Object(n.useMemo)((function(){return function(e){return[{value:h()(e).subtract(4,"hours").valueOf(),label:h()(e).subtract(4,"hours").format("H:mm")},{value:h()(e).subtract(3.5,"hours").valueOf()},{value:h()(e).subtract(3.25,"hours").valueOf()},{value:h()(e).subtract(3,"hours").valueOf(),label:h()(e).subtract(3,"hours").format("H:mm")},{value:h()(e).subtract(2.5,"hours").valueOf()},{value:h()(e).subtract(2.25,"hours").valueOf()},{value:h()(e).subtract(2,"hours").valueOf(),label:h()(e).subtract(2,"hours").format("H:mm")},{value:h()(e).subtract(1.5,"hours").valueOf()},{value:h()(e).subtract(1.25,"hours").valueOf()},{value:h()(e).subtract(1,"hours").valueOf(),label:h()(e).subtract(1,"hours").format("H:mm")},{value:h()(e).subtract(.5,"hours").valueOf()},{value:h()(e).subtract(.25,"hours").valueOf()},{value:e,label:h()(e).format("H:mm")}]}(c)}),[c]),y=Object(n.useState)(void 0),b=Object(f.a)(y,2),E=b[0],x=b[1],g=Object(n.useState)(void 0),w=Object(f.a)(g,2),O=w[0],j=w[1],M=Object(k.a)("(max-width: 500px)");function S(){return(S=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return x("loading"),t=v.map((function(e){return fetch(F(a,e.value))})),e.next=6,Promise.all(t);case 6:x("playing");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){a&&O&&(clearInterval(O),j(void 0),a.getSource("radar").updateImage({url:F(a)}))}function F(e,t){var a=e.getBounds().toArray(),n=a[0],r=a[1],i={dpi:"96",transparent:"true",format:"png32",time:"".concat(t||u),bbox:"".concat(n.join(","),",").concat(r.join(",")),bboxSR:"4326",imageSR:"4326",size:"".concat(window.innerWidth,",").concat(window.innerHeight),f:"image"},o=new URLSearchParams(i).toString();return"https://nowcoast.noaa.gov/arcgis/rest/services/nowcoast/radar_meteo_imagery_nexrad_time/MapServer/export?dynamicLayers=%5B%7B%22id%22%3A3%2C%22name%22%3A%22Image%22%2C%22source%22%3A%7B%22type%22%3A%22mapLayer%22%2C%22mapLayerId%22%3A3%7D%2C%22minScale%22%3A0%2C%22maxScale%22%3A0%7D%5D&".concat(o)}return Object(n.useEffect)((function(){var e=new Ve.a.Map({container:"map",maxZoom:12,minZoom:4,zoom:7,center:[-93.20523,44.94776],style:"mapbox://styles/johnjcz/ck7t9f4aq2wuy1imokjil5qxm",hash:!0});i(e),e.on("load",(function(){var t=e.getBounds();e.addSource("radar",{type:"image",url:F(e),coordinates:[t.getNorthWest().toArray(),t.getNorthEast().toArray(),t.getSouthEast().toArray(),t.getSouthWest().toArray()]}),e.addLayer({id:"radar",source:"radar",type:"raster",paint:{"raster-opacity":.75,"raster-fade-duration":0}})})),e.on("movestart",(function(){e.setPaintProperty("radar","raster-opacity",0),"playing"===E&&T()})),e.on("moveend",Object(m.a)(d.a.mark((function t(){var a,n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x("loading"),a=e.getBounds(),n=e.getSource("radar"),r=F(e),t.next=6,fetch(r);case 6:n.updateImage({url:r,coordinates:[a.getNorthWest().toArray(),a.getNorthEast().toArray(),a.getSouthEast().toArray(),a.getSouthWest().toArray()]}),setTimeout((function(){e.setPaintProperty("radar","raster-opacity",.75),x(void 0)}),500);case 8:case"end":return t.stop()}}),t)}))))}),[]),Object(n.useEffect)((function(){if(a){if("playing"===E){var e=0;v.forEach((function(t,a){t.value===u&&(e=a+1)})),e>v.length-1&&(e=0),j(setInterval((function(){e<=v.length-1&&(a.getSource("radar").updateImage({url:F(a,v[e].value)}),p(v[e].value)),e===v.length+2?e=0:e++}),250))}void 0===E&&O&&T()}}),[E]),r.a.createElement("div",null,r.a.createElement("div",{id:"map",style:{position:"absolute",width:"100%",height:"calc(100% - ".concat(M?"56":"64","px)")}}),r.a.createElement("div",{style:{position:"absolute",bottom:0,left:0,right:0,margin:"0 auto",marginBottom:"35px",paddingBottom:"8px",paddingTop:"8px",width:"325px",backgroundColor:"rgba(255,255,255,0.8)",borderRadius:"6px",display:"flex",justifyContent:"space-evenly",alignItems:"center"}},r.a.createElement("div",null,void 0===E&&r.a.createElement(Ke.a,{onClick:function(){return function(){return S.apply(this,arguments)}()}},r.a.createElement(Ue.a,null)),"loading"===E&&r.a.createElement(qe.a,{size:23,style:{padding:"11px",marginRight:"10px"}}),"playing"===E&&r.a.createElement(Ke.a,{onClick:function(){return x(void 0)}},r.a.createElement(Ze.a,null))),r.a.createElement("div",{style:{width:"200px",marginLeft:"24px",marginRight:"24px"}},r.a.createElement(Ge.a,{marks:v,defaultValue:c.valueOf(),valueLabelDisplay:"off",step:9e5,min:h()(c).subtract(4,"hours").valueOf(),max:c,onChange:function(e,t){p(t),a&&a.getSource("radar").updateImage({url:F(a)})},value:u}))))}Ve.a.accessToken="pk.eyJ1Ijoiam9obmpjeiIsImEiOiJjazc5OW91M3UwMTEzM2ZxdTg0a3RlNHVkIn0.ebttXrA6i4iH0lxBLDGmjQ";var $e=a(264),Ye=a.n($e),et=a(265),tt=a.n(et),at=a(526),nt=a(527);function rt(){var e=Object(l.f)();return r.a.createElement(at.a,{position:"static"},r.a.createElement(nt.a,null,r.a.createElement("div",{style:{flexGrow:1}},r.a.createElement(c.b,{to:"/",style:{textDecoration:"none"}},r.a.createElement(g.a,{variant:"h5",style:{color:"#fff",fontFamily:"Spartan"}},"balmy.us"))),r.a.createElement("div",null,"/"===e.pathname&&r.a.createElement(c.b,{to:"/radar",style:{textDecoration:"none",color:"#fff"}},r.a.createElement(F.a,{startIcon:r.a.createElement(Ye.a,null),style:{color:"#fff"}},"Radar")),"/radar"===e.pathname&&r.a.createElement(c.b,{to:"/",style:{textDecoration:"none",color:"#fff"}},r.a.createElement(F.a,{startIcon:r.a.createElement(tt.a,null),style:{color:"#fff"}},"Forecast")))))}var it=a(528),ot=a(266),ct=a(533),lt=Object(ot.a)({palette:{primary:{500:"#F2B705"}}}),st=Object(ct.a)(lt);var ut=function(){return r.a.createElement(it.a,{theme:st},r.a.createElement(c.a,null,r.a.createElement(rt,null),r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/radar"},r.a.createElement(Qe,null)),r.a.createElement(l.a,{path:"/"},r.a.createElement(Ce,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ut,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[313,1,2]]]);
//# sourceMappingURL=main.9c5ea8c7.chunk.js.map